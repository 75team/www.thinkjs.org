{% extends "./layout.html" %}

{% block content %}

<div class="jumbotron masthead"">
  <div class="container home_page_banner">
    <h1>ThinkJS</h1>
    <p>The Web framework beyond your dreams<br>
      <small></small>
    </p>

    <ul class="masthead-links">
      <li>
        <a href="https://github.com/75team/thinkjs">GitHub Project</a>
      </li>
      <li>
        Version {{ version }}
      </li>
    </ul>
  </div>
</div>

<div class="bs-docs-social">
  <div class="container">
    <ul class="bs-docs-social-buttons">
      <li>
        <a target="_blank" href="https://github.com/75team/thinkjs">
          <img height="20" src="/static/other/icon/star.svg" alt="github star">
        </a>
      </li>
      <li>
        <a target="_blank" href="https://github.com/75team/thinkjs">
          <img height="20" src="/static/other/icon/version.svg" alt="npm version">
        </a>
      </li>
      <li class="follow-btn">
        <a target="_blank" href="https://github.com/75team/thinkjs">
          <img height="20" src="/static/other/icon/build.svg" alt="npm build">
        </a>
      </li>
      <li class="tweet-btn">
        <a target="_blank" href="https://github.com/75team/thinkjs">
          <img height="20" src="/static/other/icon/coverage.svg" alt="coverage">
        </a>
      </li>
    </ul>
  </div>
</div>

<div class="container">
  <div class="flinfo">
    <div class="wrap">

      <div class="section-title-wrapper">
        <h3>Use the full ES6/7 features to develop Nodejs applications</h3>
      </div>
      <div class="doc-content">
<pre><code class="lang-js hljs javascript"><span class="hljs-comment">//user controller, home/controller/user.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">think</span>.<span class="hljs-title">controller</span>.<span class="hljs-title">base</span> </span>{
  <span class="hljs-comment">//login action</span>
  <span class="hljs-keyword">async</span> loginAction() {
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.isGet()) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.display();
    }
    <span class="hljs-comment">//data is validated in logic</span>
    <span class="hljs-keyword">let</span> data = <span class="hljs-keyword">this</span>.post();
    <span class="hljs-keyword">let</span> md5 = think.md5(<span class="hljs-string">'think_'</span> + data.pwd);
    <span class="hljs-keyword">let</span> result = <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.model(<span class="hljs-string">'user'</span>).where({name: data.name, pwd: md5}).find();
    <span class="hljs-keyword">if</span>(think.isEmpty(result)) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.fail(<span class="hljs-string">'login fail'</span>);
    }
    <span class="hljs-comment">//set userInfo to session</span>
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.session(<span class="hljs-string">'userInfo'</span>, result);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.success();
    }
  }
}
</code></pre>
      </div>
    </div>
    <div class="get-started-wrapper">
      <a class="btn btn-large btn-success" href="/doc.html" property="dc:title">Get Started Now!</a>
    </div>
  </div>


  <div class="fetlist">
    <div class="section-title-wrapper">
      <h3>Features</h3>
    </div>
    <div class="row">
      {% for f in features.slice(0, 4) %}
      <div class="col-sm-3">
        <i class="icon-fet{{loop.index}}"></i>
        <h5 class="upper">{{f.title}}</h5>
        <p>
          {{f.content}}
        </p>
      </div>
      {% endfor %}
    </div>
    <div class="row">
      {% for f in features.slice(4, 8) %}
      <div class="col-sm-3">
        <i class="icon-fet{{loop.index + 4}}"></i>
        <h5 class="upper">{{f.title}}</h5>
        <p>
          {{f.content}}
        </p>
      </div>
      {% endfor %}
    </div>
  </div>

  <div class="fluser">
    <div class="section-title-wrapper">
      <h3>Testimonials</h3>
    </div>

    <ul class="media-list">
      {% for t in testimonials %}
      <li class="media">
        <a class="pull-left" href="#">
          <img class="media-object" src="{{t.image}}" alt="">
        </a>
        <div class="media-body">
          <div class="clearfix">
            <strong>{{t.name}}</strong>
            <span class="media-notice">{{t.desc|safe}}</span>
          </div>
          {{t.content}}
        </div>
      </li>
      {% endfor %}
    </ul>
  </div>
</div>

{% endblock %}
